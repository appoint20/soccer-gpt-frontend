<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soccer GPT - Professional Combinations</title>
    <!-- Google Fonts for premium typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- Security Overlay -->
    <div id="password-overlay" class="overlay">
        <div class="login-box">
            <h2>âš½ Soccer GPT Vault</h2>
            <p>Enter passphrase to access professional analytics.</p>
            <input type="password" id="password-input" placeholder="Passphrase" onkeypress="handleKeyPress(event)">
            <button onclick="checkPassword()">Unlock</button>
            <p id="error-msg" class="error-msg"></p>
        </div>
    </div>

    <!-- Main Content Application -->
    <div id="app-content" class="container hidden">

        <header>
            <h1>Soccer GPT Analytics</h1>
            <hr class="header-divider">
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('combinations')">Combinations</button>
                <button class="tab-btn" onclick="switchTab('upcoming')">Upcoming Matches</button>
                <button class="tab-btn" onclick="switchTab('backtest')">Backtesting Report</button>
            </div>
        </header>

        <main>
            <!-- Combinations Tab -->
            <section id="combinations-tab" class="tab-content active">
                <div id="combinations-container">
                    <!-- Tables will be injected here by JS -->
                </div>
            </section>

            <!-- Upcoming Matches Tab -->
            <section id="upcoming-tab" class="tab-content hidden">
                <div class="date-picker-wrap">
                    <label>Select Date: </label>
                    <input type="date" id="upcoming-date" onchange="loadUpcoming()">
                </div>
                <div id="upcoming-container">
                    <!-- Upcoming detailed analysis table will be injected here -->
                </div>
            </section>

            <!-- Backtest Report Tab -->
            <section id="backtest-tab" class="tab-content hidden">
                <div class="stake-wrap">
                    <label>Stake per combination (â‚¬): </label>
                    <input type="number" id="stake-input" value="25" min="1" step="1" onchange="renderBacktestData()">
                </div>
                <div id="backtest-container">
                    <!-- Backtest tables injected here -->
                </div>
            </section>
        </main>

    </div>

    <!-- Live Bet Slip / Combination Builder -->
    <div id="bet-slip-overlay" class="bet-slip hidden">
        <div class="bet-slip-header" onclick="toggleBetSlip()">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>ðŸ§¾ Custom Combination <span id="bet-slip-count" class="badge">0</span></h3>
                <span id="bet-slip-chevron" class="chevron">â–²</span>
            </div>
        </div>
        <div id="bet-slip-content" class="bet-slip-content">
            <div id="bet-slip-items" class="bet-slip-items">
                <!-- Selections injected here -->
            </div>
            <div class="bet-slip-footer">
                <div class="slip-summary-row">
                    <span>Total Odds:</span>
                    <strong id="slip-total-odds">1.00</strong>
                </div>
                <div class="slip-summary-row">
                    <span>Live Accuracy (Probability):</span>
                    <strong id="slip-total-prob">100%</strong>
                </div>
                <button id="save-slip-btn" class="save-slip-btn" onclick="saveCombination()" disabled>Save Combination</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>